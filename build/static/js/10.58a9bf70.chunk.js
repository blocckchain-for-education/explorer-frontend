(this["webpackJsonpv-chain-monitoring"]=this["webpackJsonpv-chain-monitoring"]||[]).push([[10],{497:function(e,t,a){"use strict";(function(e){var n=a(510),r=a(495),l=a.n(r),c=a(496),s=a(504),i=a.n(s),o=a(505),u=a.n(o),m=a(499),h=a.n(m),d=i()(u.a,e.Promise),p=h.a.ROOT_URL,E=h.a.ES_URL,f=h.a.APIKEY,b=function(e){return e.body},g=function(e){return d.get("".concat(p).concat(e)).then(b)},k=function(e){return d.get("".concat(E).concat(e)).then(b)},v={getAllDocs:function(){return k("/_stats")}},y={getBlock:function(e){return g("/blocks/"+e)},getBlocks:function(e){return g("/blocks?limit="+e)},getAllBlocks:function(e){return g("/blocks")},getAllBlocksReal:function(){var e=Object(c.a)(l.a.mark((function e(t){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/blocks");case 2:a=e.sent,n=a.data[a.data.length-1].header.previous_block_id,r="0000000000000000";case 5:if(n==r){e.next=13;break}return e.next=8,g("/blocks?head="+n);case 8:c=e.sent,a.data=a.data.concat(c.data),n=c.data[c.data.length-1].header.previous_block_id,e.next=5;break;case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTransaction:function(e){return g("/transactions/"+e)},getTransactions:function(e){return g("/transactions?limit="+e)},getAllTransactions:function(e){return g("/transactions")},getAllTransactionsReal:function(){var e=Object(c.a)(l.a.mark((function e(t){var a,r,c,s,i,o,u,m,h,d,p,E,f,b,k,v,y,x,w;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).data=[],e.next=4,g("/blocks");case 4:r=e.sent,c=Object(n.a)(r.data);try{for(c.s();!(s=c.n()).done;){i=s.value,o=i.batches,u=Object(n.a)(o);try{for(u.s();!(m=u.n()).done;)h=m.value,a.data=a.data.concat(h.transactions)}catch(t){u.e(t)}finally{u.f()}}}catch(t){c.e(t)}finally{c.f()}d=r.data[r.data.length-1].header.previous_block_id,p="0000000000000000";case 9:if(d==p){e.next=18;break}return e.next=12,g("/blocks?head="+d);case 12:E=e.sent,f=Object(n.a)(E.data);try{for(f.s();!(b=f.n()).done;){k=b.value,v=k.batches,y=Object(n.a)(v);try{for(y.s();!(x=y.n()).done;)w=x.value,a.data=a.data.concat(w.transactions)}catch(t){y.e(t)}finally{y.f()}}}catch(t){f.e(t)}finally{f.f()}d=E.data[E.data.length-1].header.previous_block_id,e.next=9;break;case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPeers:function(e){return g("/peers")}},x=function(e){return d.get(e).set("Authorization",f).then(b)},w={getInfo:function(e){return x("https://v-chain.vn/appservice/v1/apps")}};t.a={Sawtooth:y,ES:v,AppInfo:w}}).call(this,a(83))},499:function(e,t){"production"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_NODE_ENV?e.exports={ROOT_URL:"http://localhost:2398/http://localhost:8008",SAWTOOTH_NODE:"localhost:4004",ES_URL:"localhost:9200",devMode:!0,websocket_url:"ws:localhost:8008/subscriptions"}:e.exports={ROOT_URL:"http://localhost:2398/http://localhost:8008",devMode:!1,websocket_url:"ws:localhost:8008/subscriptions",ES_URL:"http://localhost:9200",APIKEY:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VybmFtZSI6ImRpbnRlIiwiZW1haWwiOiJkaW50ZUBnbWFpbC5jb20iLCJyb2xlIjoidXNlciIsImFjdGl2ZSI6dHJ1ZSwiYmFsYW5jZSI6MCwicmVmZXJyYWxfY29kZSI6bnVsbCwicGxhbiI6eyJwbGFuX3R5cGUiOiJwcm8iLCJkdWVfZGF0ZSI6MH0sIm5hbWUiOiJkaW50ZSIsInBob25lIjoiMDEyMzQ1Njc4OSIsImJpcnRoZGF5IjoiMDEvMDEvMTk3MCIsInVzZXJfaWQiOiI1ZjY4N2YwYjAzZTcyOWE0OWRhYjE5NTciLCJleHAiOjE2MzQ2MzUyNTZ9.68eFaiIGZJ3eBt9UvI7mn0is9jtjwJ4kXyvJL5qsJxQ"}},607:function(e,t,a){e.exports=a.p+"static/media/nodes.f5f2ba39.svg"},608:function(e,t,a){e.exports=a.p+"static/media/app.cde4721e.svg"},609:function(e,t,a){e.exports=a.p+"static/media/cubes.2535de38.svg"},610:function(e,t,a){e.exports=a.p+"static/media/transaction.d6cfb01c.svg"},722:function(e,t,a){"use strict";a.r(t);var n=a(495),r=a.n(n),l=a(496),c=a(153),s=a(154),i=a(156),o=a(155),u=a(1),m=a.n(u),h=a(491),d=a(492),p=a(541),E=a(717),f=a(542),b=a(581),g=a(503),k=a(157),v=a(158),y=a(497),x=a(20),w=a(513),O=a(714),j=a(726),S=a(723),T=a(715),I=a(515),_=a(514),B=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).search=n.search.bind(Object(v.a)(n)),n.toggleDropdown=n.toggleDropdown.bind(Object(v.a)(n)),n.changeValue=n.changeValue.bind(Object(v.a)(n)),n.inputValue=n.inputValue.bind(Object(v.a)(n)),n.state={id:null,block:null,transaction:null,dropdownValue:null,dropdownOpen:!1,message:null},n}return Object(s.a)(a,[{key:"toggleDropdown",value:function(e){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"changeValue",value:function(e){this.setState({dropdownValue:e.target.value})}},{key:"search",value:function(e){switch(this.state.dropdownValue){case"Block":this.getBlock(this.state.id);break;case"Transaction":this.getTransaction(this.state.id)}}},{key:"inputValue",value:function(e){this.setState({id:e.target.value})}},{key:"getBlock",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.Sawtooth.getBlock(t);case 3:(a=e.sent)?this.setState({block:a.data}):this.setState({message:"Block Not Found! Please check the ID"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({message:"Block Not Found! Please check the ID"});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.Sawtooth.getTransaction(t);case 3:(a=e.sent)?this.setState({transaction:a.data}):this.setState({message:"Transaction Not Found! Please check the ID"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({message:"Transaction Not Found! Please check the ID"});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.block?m.a.createElement(x.c,{to:"/blocks/"+this.state.block.header_signature}):this.state.transaction?m.a.createElement(x.c,{to:"/transactions/"+this.state.transaction.header_signature}):m.a.createElement(p.a,null,m.a.createElement(f.a,null,m.a.createElement(w.a,null,m.a.createElement(O.a,{addonType:"prepend",isOpen:this.state.dropdownOpen,toggle:this.toggleDropdown},m.a.createElement(j.a,{caret:!0,color:"light"},null!=this.state.dropdownValue?this.state.dropdownValue:"Select"),m.a.createElement(S.a,null,m.a.createElement(T.a,{value:"Block",onClick:this.changeValue},"Block"),m.a.createElement(T.a,{value:"Transaction",onClick:this.changeValue},"Transaction"))),m.a.createElement(I.a,{placeholder:"Search by Block / Transaction",name:"id",type:"text",onChange:this.inputValue}),m.a.createElement(_.a,{addonType:"append"},m.a.createElement(g.a,{color:"primary",onClick:this.search},m.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})))),m.a.createElement("span",{className:"text-danger"},this.state.message?this.state.message:null)))}}]),a}(u.Component),N=a(493),A=a(716),D=a(607),C=a.n(D),F=a(608),V=a.n(F),R=a(609),J=a.n(R),L=a(610),P=a.n(L),z=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).loading=function(){return m.a.createElement(h.a,null,m.a.createElement(d.a,{sm:"12",md:{size:6}},m.a.createElement(N.a,{color:"primary",style:{width:"25px",height:"25px"}})))},n.state={peers:null,transactions:null,blocks:null,txFamily:null},n}return Object(s.a)(a,[{key:"getAllBlocks",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Sawtooth.getAllBlocks();case 2:t=e.sent,this.setState({blocks:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllTransactions",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Sawtooth.getAllTransactionsReal();case 2:t=e.sent,this.setState({transactions:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPeers",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Sawtooth.getPeers();case 2:t=e.sent,this.setState({peers:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTxFamily",value:function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({txFamily:{length:1}});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.getPeers(),e.getAllBlocks(),e.getAllTransactions(),e.getTxFamily()}),2e3)}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(h.a,null,m.a.createElement(d.a,{xs:"12",sm:"6",lg:"3"},m.a.createElement(p.a,null,m.a.createElement(f.a,{className:"pb-0"},m.a.createElement(A.a,{borderless:!0,size:"sm"},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{rowSpan:"2"},m.a.createElement("img",{src:C.a,width:"50px",alt:"nodes"})),m.a.createElement("td",null,m.a.createElement("h5",{className:"text-muted"},"Total nodes"))),m.a.createElement("tr",null,m.a.createElement("td",null,this.state.peers?m.a.createElement("h5",{className:"text-primary animated fadeIn"},this.state.peers.length+1+" nodes"):this.loading()))))))),m.a.createElement(d.a,{xs:"12",sm:"6",lg:"3"},m.a.createElement(p.a,null,m.a.createElement(f.a,{className:"pb-0"},m.a.createElement(A.a,{borderless:!0,size:"sm"},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{rowSpan:"2"},m.a.createElement("img",{src:P.a,width:"50px",alt:"transactions"})),m.a.createElement("td",null,m.a.createElement(k.Link,{to:"/transactions",className:"text-muted"},m.a.createElement("h5",null,"Total transactions")))),m.a.createElement("tr",null,m.a.createElement("td",null,this.state.transactions?m.a.createElement("h5",{className:"text-primary animated fadeIn"},this.state.transactions.length+" transactions"):this.loading()))))))),m.a.createElement(d.a,{xs:"12",sm:"6",lg:"3"},m.a.createElement(p.a,null,m.a.createElement(f.a,{className:"pb-0"},m.a.createElement(A.a,{borderless:!0,size:"sm"},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{rowSpan:"2"},m.a.createElement("img",{src:J.a,width:"50px",alt:"blocks"})),m.a.createElement("td",null,m.a.createElement(k.Link,{to:"/blocks",className:"text-muted"},m.a.createElement("h5",null,"Total blocks")))),m.a.createElement("tr",null,m.a.createElement("td",null,this.state.blocks?m.a.createElement("h5",{className:"text-primary animated fadeIn"},parseInt(this.state.blocks[0].header.block_num)+1+" blocks"):this.loading()))))))),m.a.createElement(d.a,{xs:"12",sm:"6",lg:"3"},m.a.createElement(p.a,null,m.a.createElement(f.a,{className:"pb-0"},m.a.createElement(A.a,{borderless:!0,size:"sm"},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{rowSpan:"2"},m.a.createElement("img",{src:V.a,width:"50px",alt:"transaction_family"})),m.a.createElement("td",null,m.a.createElement("h5",{className:"text-muted"},"Total transactions family"))),m.a.createElement("tr",null,m.a.createElement("td",null,this.state.txFamily?m.a.createElement("h5",{className:"text-primary animated fadeIn"},this.state.txFamily.length+" transaction family"):this.loading())))))))))}}]),a}(u.Component),Z=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).loading=function(){return m.a.createElement(h.a,null,m.a.createElement(d.a,{sm:"12",md:{size:6}},m.a.createElement(N.a,{color:"primary",style:{width:"100px",height:"100px"}})))},n.state={blocks:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.getBlocks(10)}),2e3)}},{key:"getBlocks",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Sawtooth.getBlocks(10);case 2:(t=e.sent)&&this.setState({blocks:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.blocks?m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(A.a,{borderless:!0},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Height"),m.a.createElement("th",null,"Block ID"),m.a.createElement("th",null,"Previous Block ID"),m.a.createElement("th",null,"Signer Public Key")),this.state.blocks.map((function(e){return m.a.createElement("tr",{key:e.header_signature},m.a.createElement("td",{className:"text-muted"},"#"+e.header.block_num),m.a.createElement("td",null,m.a.createElement(k.Link,{to:"/blocks/"+e.header_signature},e.header_signature.substring(0,15)+"...")),m.a.createElement("td",null,m.a.createElement(k.Link,{to:"/blocks/"+e.header.previous_block_id},e.header.previous_block_id.substring(0,15)+"...")),m.a.createElement("td",null,e.header.signer_public_key.substring(0,15)+"..."))}))))):this.loading()}}]),a}(u.Component),W=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).loading=function(){return m.a.createElement(h.a,null,m.a.createElement(d.a,{sm:"12",md:{size:6}},m.a.createElement(N.a,{color:"primary",style:{width:"100px",height:"100px"}})))},n.state={transactions:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.getTransactions(10)}),2e3)}},{key:"getTransactions",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Sawtooth.getTransactions(10);case 2:t=e.sent,this.setState({transactions:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.transactions?m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(A.a,{borderless:!0},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Transaction ID"),m.a.createElement("th",null,"Transaction Family"),m.a.createElement("th",null,"Version"),m.a.createElement("th",null,"Payload")),this.state.transactions.map((function(e){return m.a.createElement("tr",{key:e.header_signature},m.a.createElement("td",null,m.a.createElement(k.Link,{to:"/transactions/"+e.header_signature},e.header_signature.slice(0,15)+"...")),m.a.createElement("td",null,e.header.family_name),m.a.createElement("td",null,e.header.family_version),m.a.createElement("td",null,e.payload.slice(0,20)+"..."))}))))):this.loading()}}]),a}(u.Component),M=a(553),U=a(569),Y=a.n(U),G=function(e){var t=e.transactions;if(!t)return m.a.createElement(p.a,null,m.a.createElement(f.a,null,m.a.createElement(h.a,{style:{textAlign:"center"}},m.a.createElement(d.a,{sm:"12",md:{size:6,offset:3}},m.a.createElement(N.a,{color:"primary",style:{width:"100px",height:"100px"}})))));var a=Y.a.groupBy(t,"header.family_name"),n=[],r=[];for(var l in a)n.push(l),r.push(a[l].length);var c={labels:n,datasets:[{label:"Total transactions",data:r,backgroundColor:["rgba(255, 134,159,0.4)","rgba(98,  182, 239,0.4)","rgba(255, 218, 128,0.4)","rgba(113, 205, 205,0.4)","rgba(170, 128, 252,0.4)","rgba(255, 177, 101,0.4)"],borderWidth:2,borderColor:["rgba(255, 134, 159, 1)","rgba(98,  182, 239, 1)","rgba(255, 218, 128, 1)","rgba(113, 205, 205, 1)","rgba(170, 128, 252, 1)","rgba(255, 177, 101, 1)"]}]};return m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(p.a,null,m.a.createElement(f.a,null,m.a.createElement("div",{className:"chart-wrapper"},m.a.createElement(M.Bar,{height:223,data:c,options:{responsive:!0,maintainAspectRatio:!1,dataset:{barPercentage:1},scales:{xAxes:[{gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)"}}],yAxes:[{gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)"},ticks:{beginAtZero:!0}}]}}})))))},H=function(e){var t=e.transactions;if(!t)return m.a.createElement(p.a,null,m.a.createElement(f.a,null,m.a.createElement(h.a,{style:{textAlign:"center"}},m.a.createElement(d.a,{sm:"12",md:{size:6,offset:3}},m.a.createElement(N.a,{color:"primary",style:{width:"100px",height:"100px"}})))));var a=Y.a.groupBy(t,"header.family_name"),n=[],r=[];for(var l in a)n.push(l),r.push(a[l].length);var c={labels:n,datasets:[{data:r,backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360","#AC64AD"],hoverBackgroundColor:["#FF5A5E","#5AD3D1","#FFC870","#A8B3C5","#616774","#DA92DB"]}]};return m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(p.a,null,m.a.createElement(f.a,null,m.a.createElement("div",{className:"chart-wrapper"},m.a.createElement(M.Pie,{height:100,data:c})))))},K=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={transactions:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.getTransactions(10)}),2e3)}},{key:"getTransactions",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.Sawtooth.getAllTransactionsReal();case 2:t=e.sent,this.setState({transactions:t.data});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(h.a,null,m.a.createElement(d.a,{sm:"12",md:{size:8,offset:2}},m.a.createElement(B,null))),m.a.createElement(h.a,null,m.a.createElement(d.a,null,m.a.createElement(z,null))),m.a.createElement(h.a,null,m.a.createElement(d.a,{style:{height:"250px"}},m.a.createElement(H,{transactions:this.state.transactions})),m.a.createElement(d.a,{style:{height:"250px"}},m.a.createElement(G,{transactions:this.state.transactions}))),m.a.createElement(h.a,{style:{fontSize:"14px",marginTop:"40px"},xs:"2"},m.a.createElement(d.a,null,m.a.createElement(p.a,{style:{height:"680px"}},m.a.createElement(E.a,null,m.a.createElement("strong",null,"Realtime Blocks")),m.a.createElement(f.a,null,m.a.createElement(Z,null)),m.a.createElement(b.a,null,m.a.createElement(k.Link,{to:"/blocks",style:{textDecoration:"none"}},m.a.createElement(g.a,{outline:!0,block:!0,color:"primary",size:"lg"},"View all Blocks"))))),m.a.createElement(d.a,null,m.a.createElement(p.a,{style:{height:"680px"}},m.a.createElement(E.a,null,m.a.createElement("strong",null,"Realtime Transactions")),m.a.createElement(f.a,null,m.a.createElement(W,null)),m.a.createElement(b.a,null,m.a.createElement(k.Link,{to:"/transactions",style:{textDecoration:"none"}},m.a.createElement(g.a,{outline:!0,block:!0,color:"primary",size:"lg"},"View all Transactions")))))))}}]),a}(u.Component);t.default=K}}]);
//# sourceMappingURL=10.58a9bf70.chunk.js.map